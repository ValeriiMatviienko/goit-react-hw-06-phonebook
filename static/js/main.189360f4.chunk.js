(this["webpackJsonpgoit-react-hw-06-phonebook"]=this["webpackJsonpgoit-react-hw-06-phonebook"]||[]).push([[0],{17:function(t,e,n){t.exports={label:"Filter_label__pgdEf",input:"Filter_input__1C7Sc"}},23:function(t,e,n){t.exports={section:"Container_section__3L6rm",heading:"Container_heading__hX_nK"}},48:function(t,e,n){},49:function(t,e,n){"use strict";n.r(e);var a,c=n(0),r=n.n(c),o=n(11),s=n.n(o),i=n(5),l=n(25),u=n(8),b=n(3),d=n(4),m=n(26),j=n.n(m),h=n(6),f=n(2),p=n(12),O=n.n(p),v={addContact:Object(b.b)("contacts/addContact",(function(t){var e=t.name,n=t.number;return{payload:{id:O.a.generate(),name:e,number:n}}})),deleteContact:Object(b.b)("contacts/deleteContact"),changeFilter:Object(b.b)("contacts/changeFilter")},g=Object(b.c)([],(a={},Object(h.a)(a,v.addContact,(function(t,e){var n=e.payload;return[].concat(Object(u.a)(t),[n])})),Object(h.a)(a,v.deleteContact,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),a)),C=Object(b.c)("",Object(h.a)({},v.changeFilter,(function(t,e){return e.payload}))),x=Object(f.c)({contacts:g,filter:C}),_=Object(u.a)(Object(b.d)({serializableCheck:{ignoredActions:[d.a,d.f,d.b,d.c,d.d,d.e]}})),y={key:"contacts",storage:j.a,blacklist:["filter","_persist"]},k=Object(b.a)({reducer:{contacts:Object(d.g)(y,x)},middleware:_,devTools:!1}),F={store:k,persistor:Object(d.h)(k)},N=n(13),S=n(14),w=n(16),D=n(15),L=n(7),P=n.n(L),I=n(1),A=function(t){Object(w.a)(n,t);var e=Object(D.a)(n);function n(){var t;Object(N.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={name:"",number:""},t.handleChange=function(e){var n=e.currentTarget,a=n.name,c=n.value;t.setState(Object(h.a)({},a,c))},t.handleSubmit=function(e){e.preventDefault();var n=t.state.name,a=t.props,c=a.contacts,r=a.onSubmit,o=a.number;return c.some((function(t){return t.name.toLowerCase()===n.toLowerCase()}))?(alert("".concat(n," Already exists!!!")),void t.reset()):function(t){return!/\d{3}[-]\d{2}[-]\d{2}/g.test(t)}(o)?(alert("Enter the correct number phone!"),void t.reset()):(r(t.state),void t.reset())},t.reset=function(){t.setState({name:"",number:""})},t}return Object(S.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number;return Object(I.jsxs)("form",{className:P.a.form,onSubmit:this.handleSubmit,children:[Object(I.jsx)("label",{className:P.a.label,htmlFor:"name",children:"Name"}),Object(I.jsx)("input",{id:"name",type:"text",onChange:this.handleChange,className:P.a.input,name:"name",value:e,placeholder:"Name"}),Object(I.jsx)("label",{className:P.a.label,htmlFor:"number",children:"Number"}),Object(I.jsx)("input",{id:"number",type:"text",onChange:this.handleChange,className:P.a.input,name:"number",value:n,placeholder:"Phone number"}),Object(I.jsx)("button",{type:"submit",className:P.a.btn,children:"Add contact"})]})}}]),n}(c.Component),E=Object(i.b)((function(t){return{contacts:t.contacts.contacts}}),(function(t){return{onSubmit:function(e){var n=e.name,a=e.number;return t(v.addContact({name:n,number:a}))}}}))(A),J=n(17),T=n.n(J),B=function(t){var e=t.value,n=t.onChange;return Object(I.jsx)("div",{className:T.a.wrapper,children:Object(I.jsxs)("label",{className:T.a.label,children:["Find by Name",Object(I.jsx)("input",{className:T.a.input,type:"text",value:e,onChange:n})]})})};B.defaultProps={filter:""};var M=Object(i.b)((function(t){return{value:t.filter}}),(function(t){return{onChange:function(e){return t(v.changeFilter(e.target.value))}}}))(B),U=n(22),q=n(9),z=n.n(q),K=function(t){var e=t.name,n=t.number,a=t.id,c=t.onDelete;return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("span",{children:[e," : ",n]}),Object(I.jsx)("button",{type:"button",className:z.a.close,onClick:function(){return c(a)},children:"+"})]})},W=function(t){var e=t.contacts,n=t.onDelete;return Object(I.jsx)(I.Fragment,{children:e&&Object(I.jsx)("ul",{className:z.a.list,children:e.map((function(t){return Object(I.jsx)("li",{className:z.a.item,children:Object(I.jsx)(K,Object(U.a)(Object(U.a)({},t),{},{onDelete:n}))},t.id)}))})})};W.defaultProps={contacts:[]};var X=W,Y=function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))},Z=Object(i.b)((function(t){var e=t.contacts,n=e.contacts,a=e.filter;return{contacts:Y(n,a)}}),(function(t){return{onDelete:function(e){return t(v.deleteContact(e))}}}))(X),G=n(23),H=n.n(G),Q=function(t){var e=t.title,n=t.children;return Object(I.jsxs)("section",{className:H.a.section,children:[e&&Object(I.jsx)("h2",{className:H.a.heading,children:e}),n]})};Q.defaultProps={title:"",children:[]};var R=Q,V=function(t){Object(w.a)(n,t);var e=Object(D.a)(n);function n(){var t;Object(N.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={contacts:[],name:"",number:"",filter:""},t.addContact=function(e){var n=e.name,a=e.number,c={id:O.a.generate(),name:n,number:a};t.state.contacts.some((function(t){return t.name.toLowerCase()===n.toLowerCase()}))?alert("".concat(n," is already exists!")):t.setState((function(t){var e=t.contacts;return{contacts:[c].concat(Object(u.a)(e))}}))},t.deleteContact=function(e){t.setState((function(t){return{contacts:t.contacts.filter((function(t){return t.id!==e}))}}))},t.changeFilter=function(e){var n=e.currentTarget.value;t.setState({filter:n})},t.getFilteredContacts=function(){var e=t.state,n=e.filter,a=e.contacts,c=n.toLowerCase();return a.filter((function(t){return t.name.toLowerCase().includes(c)}))},t}return Object(S.a)(n,[{key:"componentDidMount",value:function(){var t=localStorage.getItem("contacts"),e=JSON.parse(t);e&&this.setState({contacts:e})}},{key:"componentDidUpdate",value:function(t,e){var n=e.contacts,a=this.state.contacts;a!==n&&localStorage.setItem("contacts",JSON.stringify(a))}},{key:"render",value:function(){var t=this.getFilteredContacts(),e=this.state.filter;return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(R,{title:"Phonebook",children:Object(I.jsx)(E,{onSubmit:this.addContact})}),Object(I.jsxs)(R,{title:"Contacts",children:[Object(I.jsx)(M,{value:e,onChange:this.changeFilter}),Object(I.jsx)(Z,{contacts:t,onDelete:this.deleteContact})]})]})}}]),n}(c.Component);n(48);s.a.render(Object(I.jsx)(r.a.StrictMode,{children:Object(I.jsx)(i.a,{store:F.store,children:Object(I.jsx)(l.a,{loading:null,persistor:F.persistor,children:Object(I.jsx)(V,{})})})}),document.getElementById("root"))},7:function(t,e,n){t.exports={form:"InputForm_form__1fZBk",label:"InputForm_label__2w2W-",input:"InputForm_input__3AxBO",btn:"InputForm_btn__3hS8D"}},9:function(t,e,n){t.exports={list:"Phonebook_list__3kTEd",item:"Phonebook_item__1pU2q",close:"Phonebook_close__9Y7kk"}}},[[49,1,2]]]);
//# sourceMappingURL=main.189360f4.chunk.js.map